<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>libsbp: File_io</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libsbp
   &#160;<span id="projectnumber">v2.4.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__file__io.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">File_io</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmsg__fileio__read__req__t.html">msg_fileio_read_req_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmsg__fileio__read__resp__t.html">msg_fileio_read_resp_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmsg__fileio__read__dir__req__t.html">msg_fileio_read_dir_req_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmsg__fileio__read__dir__resp__t.html">msg_fileio_read_dir_resp_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmsg__fileio__remove__t.html">msg_fileio_remove_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmsg__fileio__write__req__t.html">msg_fileio_write_req_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmsg__fileio__write__resp__t.html">msg_fileio_write_resp_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga85b6598731bf5d0814b9e109c1b588e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file__io.html#ga85b6598731bf5d0814b9e109c1b588e1">SBP_MSG_FILEIO_READ_REQ</a>&#160;&#160;&#160;0x00A8</td></tr>
<tr class="memdesc:ga85b6598731bf5d0814b9e109c1b588e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read file from the file system (host =&gt; device)  <a href="#ga85b6598731bf5d0814b9e109c1b588e1">More...</a><br /></td></tr>
<tr class="separator:ga85b6598731bf5d0814b9e109c1b588e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17d5867b4fbc507e92f92a4d4fc73f41"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file__io.html#ga17d5867b4fbc507e92f92a4d4fc73f41">SBP_MSG_FILEIO_READ_RESP</a>&#160;&#160;&#160;0x00A3</td></tr>
<tr class="memdesc:ga17d5867b4fbc507e92f92a4d4fc73f41"><td class="mdescLeft">&#160;</td><td class="mdescRight">File read from the file system (host &lt;= device)  <a href="#ga17d5867b4fbc507e92f92a4d4fc73f41">More...</a><br /></td></tr>
<tr class="separator:ga17d5867b4fbc507e92f92a4d4fc73f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacfa9a932ce8241b4e80e0623f6b0223"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file__io.html#gaacfa9a932ce8241b4e80e0623f6b0223">SBP_MSG_FILEIO_READ_DIR_REQ</a>&#160;&#160;&#160;0x00A9</td></tr>
<tr class="memdesc:gaacfa9a932ce8241b4e80e0623f6b0223"><td class="mdescLeft">&#160;</td><td class="mdescRight">List files in a directory (host =&gt; device)  <a href="#gaacfa9a932ce8241b4e80e0623f6b0223">More...</a><br /></td></tr>
<tr class="separator:gaacfa9a932ce8241b4e80e0623f6b0223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8e5d6717b4b05dfb09bf5c80aef5762"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file__io.html#gaa8e5d6717b4b05dfb09bf5c80aef5762">SBP_MSG_FILEIO_READ_DIR_RESP</a>&#160;&#160;&#160;0x00AA</td></tr>
<tr class="memdesc:gaa8e5d6717b4b05dfb09bf5c80aef5762"><td class="mdescLeft">&#160;</td><td class="mdescRight">Files listed in a directory (host &lt;= device)  <a href="#gaa8e5d6717b4b05dfb09bf5c80aef5762">More...</a><br /></td></tr>
<tr class="separator:gaa8e5d6717b4b05dfb09bf5c80aef5762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63e1e7a1fc3f2a00ba2e492e499c7d7e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file__io.html#ga63e1e7a1fc3f2a00ba2e492e499c7d7e">SBP_MSG_FILEIO_REMOVE</a>&#160;&#160;&#160;0x00AC</td></tr>
<tr class="memdesc:ga63e1e7a1fc3f2a00ba2e492e499c7d7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a file from the file system (host =&gt; device)  <a href="#ga63e1e7a1fc3f2a00ba2e492e499c7d7e">More...</a><br /></td></tr>
<tr class="separator:ga63e1e7a1fc3f2a00ba2e492e499c7d7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c87822f9a62afda3ad2147448d8af40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file__io.html#ga3c87822f9a62afda3ad2147448d8af40">SBP_MSG_FILEIO_WRITE_REQ</a>&#160;&#160;&#160;0x00AD</td></tr>
<tr class="memdesc:ga3c87822f9a62afda3ad2147448d8af40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to file (host =&gt; device)  <a href="#ga3c87822f9a62afda3ad2147448d8af40">More...</a><br /></td></tr>
<tr class="separator:ga3c87822f9a62afda3ad2147448d8af40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10eaf6201ea750c1f756a804016b6573"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file__io.html#ga10eaf6201ea750c1f756a804016b6573">SBP_MSG_FILEIO_WRITE_RESP</a>&#160;&#160;&#160;0x00AB</td></tr>
<tr class="memdesc:ga10eaf6201ea750c1f756a804016b6573"><td class="mdescLeft">&#160;</td><td class="mdescRight">File written to (host &lt;= device)  <a href="#ga10eaf6201ea750c1f756a804016b6573">More...</a><br /></td></tr>
<tr class="separator:ga10eaf6201ea750c1f756a804016b6573"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<ul>
<li>Messages for using device's onboard flash filesystem functionality. This allows data to be stored persistently in the device's program flash with wear-levelling using a simple filesystem interface. The file system interface (CFS) defines an abstract API for reading directories and for reading and writing files.</li>
</ul>
<p>Note that some of these messages share the same message type ID for both the host request and the device response. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gaacfa9a932ce8241b4e80e0623f6b0223"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBP_MSG_FILEIO_READ_DIR_REQ&#160;&#160;&#160;0x00A9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List files in a directory (host =&gt; device) </p>
<p>The read directory message lists the files in a directory on the device's onboard flash file system. The offset parameter can be used to skip the first n elements of the file list. Returns a MSG_FILEIO_READ_DIR_RESP message containing the directory listings as a NULL delimited list. The listing is chunked over multiple SBP packets. The sequence number in the request will be returned in the response. If message is invalid, a followup MSG_PRINT message will print "Invalid fileio read message". A device will only respond to this message when it is received from sender ID 0x42. </p>

<p>Definition at line <a class="el" href="file__io_8h_source.html#l00086">86</a> of file <a class="el" href="file__io_8h_source.html">file_io.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa8e5d6717b4b05dfb09bf5c80aef5762"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBP_MSG_FILEIO_READ_DIR_RESP&#160;&#160;&#160;0x00AA</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Files listed in a directory (host &lt;= device) </p>
<p>The read directory message lists the files in a directory on the device's onboard flash file system. Message contains the directory listings as a NULL delimited list. The listing is chunked over multiple SBP packets and the end of the list is identified by an entry containing just the character 0xFF. The sequence number in the response is preserved from the request. </p>

<p>Definition at line <a class="el" href="file__io_8h_source.html#l00104">104</a> of file <a class="el" href="file__io_8h_source.html">file_io.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga85b6598731bf5d0814b9e109c1b588e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBP_MSG_FILEIO_READ_REQ&#160;&#160;&#160;0x00A8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read file from the file system (host =&gt; device) </p>
<p>The file read message reads a certain length (up to 255 bytes) from a given offset into a file, and returns the data in a MSG_FILEIO_READ_RESP message where the message length field indicates how many bytes were succesfully read.The sequence number in the request will be returned in the response. If the message is invalid, a followup MSG_PRINT message will print "Invalid fileio read message". A device will only respond to this message when it is received from sender ID 0x42. </p>

<p>Definition at line <a class="el" href="file__io_8h_source.html#l00049">49</a> of file <a class="el" href="file__io_8h_source.html">file_io.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga17d5867b4fbc507e92f92a4d4fc73f41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBP_MSG_FILEIO_READ_RESP&#160;&#160;&#160;0x00A3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>File read from the file system (host &lt;= device) </p>
<p>The file read message reads a certain length (up to 255 bytes) from a given offset into a file, and returns the data in a message where the message length field indicates how many bytes were succesfully read. The sequence number in the response is preserved from the request. </p>

<p>Definition at line <a class="el" href="file__io_8h_source.html#l00066">66</a> of file <a class="el" href="file__io_8h_source.html">file_io.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga63e1e7a1fc3f2a00ba2e492e499c7d7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBP_MSG_FILEIO_REMOVE&#160;&#160;&#160;0x00AC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a file from the file system (host =&gt; device) </p>
<p>The file remove message deletes a file from the file system. If the message is invalid, a followup MSG_PRINT message will print "Invalid fileio remove message". A device will only process this message when it is received from sender ID 0x42. </p>

<p>Definition at line <a class="el" href="file__io_8h_source.html#l00118">118</a> of file <a class="el" href="file__io_8h_source.html">file_io.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3c87822f9a62afda3ad2147448d8af40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBP_MSG_FILEIO_WRITE_REQ&#160;&#160;&#160;0x00AD</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write to file (host =&gt; device) </p>
<p>The file write message writes a certain length (up to 255 bytes) of data to a file at a given offset. Returns a copy of the original MSG_FILEIO_WRITE_RESP message to check integrity of the write. The sequence number in the request will be returned in the response. If message is invalid, a followup MSG_PRINT message will print "Invalid fileio write message". A device will only process this message when it is received from sender ID 0x42. </p>

<p>Definition at line <a class="el" href="file__io_8h_source.html#l00135">135</a> of file <a class="el" href="file__io_8h_source.html">file_io.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga10eaf6201ea750c1f756a804016b6573"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBP_MSG_FILEIO_WRITE_RESP&#160;&#160;&#160;0x00AB</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>File written to (host &lt;= device) </p>
<p>The file write message writes a certain length (up to 255 bytes) of data to a file at a given offset. The message is a copy of the original MSG_FILEIO_WRITE_REQ message to check integrity of the write. The sequence number in the response is preserved from the request. </p>

<p>Definition at line <a class="el" href="file__io_8h_source.html#l00152">152</a> of file <a class="el" href="file__io_8h_source.html">file_io.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Feb 6 2019 15:50:35 for libsbp by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
