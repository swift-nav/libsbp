# Copyright (C) 2015-2023 Swift Navigation Inc.
# Contact: https://support.swiftnav.com
#
# This source is subject to the license found in the file 'LICENSE' which must
# be distributed together with this source. All other rights reserved.
#
# THIS CODE AND INFORMATION IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND,
# EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED
# WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR PURPOSE.
#
# Test cases automatically generated from spec/tests/yaml/swiftnav/sbp/soln_meta/test_MsgSolnMeta.yaml
# with generate.py.  Do not modify by hand!

import kaitai_sbp.sbp as sbp
from kaitai_sbp.parse_utils import get_flattened_msg
from kaitai_sbp.tests.utils import dictify
from kaitaistruct import KaitaiStream
import io
import base64

def test_auto_check_sbp_solution_meta_msg_soln_meta_1():
    buf = base64.standard_b64decode("VQ7/ADz+MNBB2HotxKCQ5AhTWVcD1V9tVoNHRlRJgxpS94xhc252/QJ6upR6lLTnRC6+ZvMwwA/QWTgK9QL+yXggfgJToe57ZuZMvuG2z+QH2nVZHb84+Ln/LhJIjlJxGgSs/rKIcXM6wVnjtvZMTWz1KR9GfPmRD07kJvGBCLD7SPhQc/Tnkb++sqhZ6UWwroy2jVFSXE9l32RAuNd8JRXjh2ZIJNs4klrbaONmUwwpeq1eAa6GgmjtdPlr5oJ7GaI538GuksHvLPbF1lBTZEJIhYmMUgICYAlgnoZhK4GNGbfI1jn4Z95Bww/0FbQujIIkEcLRQf5zZ5iB6uvC6qrJ0pqW9w==")

    stream = KaitaiStream(io.BytesIO(buf))
    msg = get_flattened_msg(sbp.Sbp.SbpMessage(stream))
    
    assert msg.crc == 0xf796
    
    assert msg.length == 254
    
    assert msg.msg_type == 0xff0e
    
    assert msg.payload == "MNBB2HotxKCQ5AhTWVcD1V9tVoNHRlRJgxpS94xhc252/QJ6upR6lLTnRC6+ZvMwwA/QWTgK9QL+yXggfgJToe57ZuZMvuG2z+QH2nVZHb84+Ln/LhJIjlJxGgSs/rKIcXM6wVnjtvZMTWz1KR9GfPmRD07kJvGBCLD7SPhQc/Tnkb++sqhZ6UWwroy2jVFSXE9l32RAuNd8JRXjh2ZIJNs4klrbaONmUwwpeq1eAa6GgmjtdPlr5oJ7GaI538GuksHvLPbF1lBTZEJIhYmMUgICYAlgnoZhK4GNGbfI1jn4Z95Bww/0FbQujIIkEcLRQf5zZ5iB6uvC6qrJ0po="
    
    assert msg.preamble == 0x55
    
    assert msg.sender == 0x3c00
    
    assert dictify(msg.age_corrections) == 21256
    
    assert dictify(msg.age_gnss) == 3573765977
    
    assert dictify(msg.hdop) == 41156
    
    assert dictify(msg.pdop) == 11642
    
    assert dictify(msg.sol_in) == [{'flags': 109, 'sensor_type': 95}, {'flags': 131, 'sensor_type': 86}, {'flags': 70, 'sensor_type': 71}, {'flags': 73, 'sensor_type': 84}, {'flags': 26, 'sensor_type': 131}, {'flags': 247, 'sensor_type': 82}, {'flags': 97, 'sensor_type': 140}, {'flags': 110, 'sensor_type': 115}, {'flags': 253, 'sensor_type': 118}, {'flags': 122, 'sensor_type': 2}, {'flags': 148, 'sensor_type': 186}, {'flags': 148, 'sensor_type': 122}, {'flags': 231, 'sensor_type': 180}, {'flags': 46, 'sensor_type': 68}, {'flags': 102, 'sensor_type': 190}, {'flags': 48, 'sensor_type': 243}, {'flags': 15, 'sensor_type': 192}, {'flags': 89, 'sensor_type': 208}, {'flags': 10, 'sensor_type': 56}, {'flags': 2, 'sensor_type': 245}, {'flags': 201, 'sensor_type': 254}, {'flags': 32, 'sensor_type': 120}, {'flags': 2, 'sensor_type': 126}, {'flags': 161, 'sensor_type': 83}, {'flags': 123, 'sensor_type': 238}, {'flags': 230, 'sensor_type': 102}, {'flags': 190, 'sensor_type': 76}, {'flags': 182, 'sensor_type': 225}, {'flags': 228, 'sensor_type': 207}, {'flags': 218, 'sensor_type': 7}, {'flags': 89, 'sensor_type': 117}, {'flags': 191, 'sensor_type': 29}, {'flags': 248, 'sensor_type': 56}, {'flags': 255, 'sensor_type': 185}, {'flags': 18, 'sensor_type': 46}, {'flags': 142, 'sensor_type': 72}, {'flags': 113, 'sensor_type': 82}, {'flags': 4, 'sensor_type': 26}, {'flags': 254, 'sensor_type': 172}, {'flags': 136, 'sensor_type': 178}, {'flags': 115, 'sensor_type': 113}, {'flags': 193, 'sensor_type': 58}, {'flags': 227, 'sensor_type': 89}, {'flags': 246, 'sensor_type': 182}, {'flags': 77, 'sensor_type': 76}, {'flags': 245, 'sensor_type': 108}, {'flags': 31, 'sensor_type': 41}, {'flags': 124, 'sensor_type': 70}, {'flags': 145, 'sensor_type': 249}, {'flags': 78, 'sensor_type': 15}, {'flags': 38, 'sensor_type': 228}, {'flags': 129, 'sensor_type': 241}, {'flags': 176, 'sensor_type': 8}, {'flags': 72, 'sensor_type': 251}, {'flags': 80, 'sensor_type': 248}, {'flags': 244, 'sensor_type': 115}, {'flags': 145, 'sensor_type': 231}, {'flags': 190, 'sensor_type': 191}, {'flags': 168, 'sensor_type': 178}, {'flags': 233, 'sensor_type': 89}, {'flags': 176, 'sensor_type': 69}, {'flags': 140, 'sensor_type': 174}, {'flags': 141, 'sensor_type': 182}, {'flags': 82, 'sensor_type': 81}, {'flags': 79, 'sensor_type': 92}, {'flags': 223, 'sensor_type': 101}, {'flags': 64, 'sensor_type': 100}, {'flags': 215, 'sensor_type': 184}, {'flags': 37, 'sensor_type': 124}, {'flags': 227, 'sensor_type': 21}, {'flags': 102, 'sensor_type': 135}, {'flags': 36, 'sensor_type': 72}, {'flags': 56, 'sensor_type': 219}, {'flags': 90, 'sensor_type': 146}, {'flags': 104, 'sensor_type': 219}, {'flags': 102, 'sensor_type': 227}, {'flags': 12, 'sensor_type': 83}, {'flags': 122, 'sensor_type': 41}, {'flags': 94, 'sensor_type': 173}, {'flags': 174, 'sensor_type': 1}, {'flags': 130, 'sensor_type': 134}, {'flags': 237, 'sensor_type': 104}, {'flags': 249, 'sensor_type': 116}, {'flags': 230, 'sensor_type': 107}, {'flags': 123, 'sensor_type': 130}, {'flags': 162, 'sensor_type': 25}, {'flags': 223, 'sensor_type': 57}, {'flags': 174, 'sensor_type': 193}, {'flags': 193, 'sensor_type': 146}, {'flags': 44, 'sensor_type': 239}, {'flags': 197, 'sensor_type': 246}, {'flags': 80, 'sensor_type': 214}, {'flags': 100, 'sensor_type': 83}, {'flags': 72, 'sensor_type': 66}, {'flags': 137, 'sensor_type': 133}, {'flags': 82, 'sensor_type': 140}, {'flags': 2, 'sensor_type': 2}, {'flags': 9, 'sensor_type': 96}, {'flags': 158, 'sensor_type': 96}, {'flags': 97, 'sensor_type': 134}, {'flags': 129, 'sensor_type': 43}, {'flags': 25, 'sensor_type': 141}, {'flags': 200, 'sensor_type': 183}, {'flags': 57, 'sensor_type': 214}, {'flags': 103, 'sensor_type': 248}, {'flags': 65, 'sensor_type': 222}, {'flags': 15, 'sensor_type': 195}, {'flags': 21, 'sensor_type': 244}, {'flags': 46, 'sensor_type': 180}, {'flags': 130, 'sensor_type': 140}, {'flags': 17, 'sensor_type': 36}, {'flags': 209, 'sensor_type': 194}, {'flags': 254, 'sensor_type': 65}, {'flags': 103, 'sensor_type': 115}, {'flags': 129, 'sensor_type': 152}, {'flags': 235, 'sensor_type': 234}, {'flags': 234, 'sensor_type': 194}, {'flags': 201, 'sensor_type': 170}, {'flags': 154, 'sensor_type': 210}]
    
    assert dictify(msg.tow) == 3628191792
    
    assert dictify(msg.vdop) == 58512

    assert dictify(msg) == {'crc': 63382, 'length': 254, 'msg_type': 65294, 'payload': 'MNBB2HotxKCQ5AhTWVcD1V9tVoNHRlRJgxpS94xhc252/QJ6upR6lLTnRC6+ZvMwwA/QWTgK9QL+yXggfgJToe57ZuZMvuG2z+QH2nVZHb84+Ln/LhJIjlJxGgSs/rKIcXM6wVnjtvZMTWz1KR9GfPmRD07kJvGBCLD7SPhQc/Tnkb++sqhZ6UWwroy2jVFSXE9l32RAuNd8JRXjh2ZIJNs4klrbaONmUwwpeq1eAa6GgmjtdPlr5oJ7GaI538GuksHvLPbF1lBTZEJIhYmMUgICYAlgnoZhK4GNGbfI1jn4Z95Bww/0FbQujIIkEcLRQf5zZ5iB6uvC6qrJ0po=', 'preamble': 85, 'sender': 15360, 'tow': 3628191792, 'pdop': 11642, 'hdop': 41156, 'vdop': 58512, 'age_corrections': 21256, 'age_gnss': 3573765977, 'sol_in': [{'sensor_type': 95, 'flags': 109}, {'sensor_type': 86, 'flags': 131}, {'sensor_type': 71, 'flags': 70}, {'sensor_type': 84, 'flags': 73}, {'sensor_type': 131, 'flags': 26}, {'sensor_type': 82, 'flags': 247}, {'sensor_type': 140, 'flags': 97}, {'sensor_type': 115, 'flags': 110}, {'sensor_type': 118, 'flags': 253}, {'sensor_type': 2, 'flags': 122}, {'sensor_type': 186, 'flags': 148}, {'sensor_type': 122, 'flags': 148}, {'sensor_type': 180, 'flags': 231}, {'sensor_type': 68, 'flags': 46}, {'sensor_type': 190, 'flags': 102}, {'sensor_type': 243, 'flags': 48}, {'sensor_type': 192, 'flags': 15}, {'sensor_type': 208, 'flags': 89}, {'sensor_type': 56, 'flags': 10}, {'sensor_type': 245, 'flags': 2}, {'sensor_type': 254, 'flags': 201}, {'sensor_type': 120, 'flags': 32}, {'sensor_type': 126, 'flags': 2}, {'sensor_type': 83, 'flags': 161}, {'sensor_type': 238, 'flags': 123}, {'sensor_type': 102, 'flags': 230}, {'sensor_type': 76, 'flags': 190}, {'sensor_type': 225, 'flags': 182}, {'sensor_type': 207, 'flags': 228}, {'sensor_type': 7, 'flags': 218}, {'sensor_type': 117, 'flags': 89}, {'sensor_type': 29, 'flags': 191}, {'sensor_type': 56, 'flags': 248}, {'sensor_type': 185, 'flags': 255}, {'sensor_type': 46, 'flags': 18}, {'sensor_type': 72, 'flags': 142}, {'sensor_type': 82, 'flags': 113}, {'sensor_type': 26, 'flags': 4}, {'sensor_type': 172, 'flags': 254}, {'sensor_type': 178, 'flags': 136}, {'sensor_type': 113, 'flags': 115}, {'sensor_type': 58, 'flags': 193}, {'sensor_type': 89, 'flags': 227}, {'sensor_type': 182, 'flags': 246}, {'sensor_type': 76, 'flags': 77}, {'sensor_type': 108, 'flags': 245}, {'sensor_type': 41, 'flags': 31}, {'sensor_type': 70, 'flags': 124}, {'sensor_type': 249, 'flags': 145}, {'sensor_type': 15, 'flags': 78}, {'sensor_type': 228, 'flags': 38}, {'sensor_type': 241, 'flags': 129}, {'sensor_type': 8, 'flags': 176}, {'sensor_type': 251, 'flags': 72}, {'sensor_type': 248, 'flags': 80}, {'sensor_type': 115, 'flags': 244}, {'sensor_type': 231, 'flags': 145}, {'sensor_type': 191, 'flags': 190}, {'sensor_type': 178, 'flags': 168}, {'sensor_type': 89, 'flags': 233}, {'sensor_type': 69, 'flags': 176}, {'sensor_type': 174, 'flags': 140}, {'sensor_type': 182, 'flags': 141}, {'sensor_type': 81, 'flags': 82}, {'sensor_type': 92, 'flags': 79}, {'sensor_type': 101, 'flags': 223}, {'sensor_type': 100, 'flags': 64}, {'sensor_type': 184, 'flags': 215}, {'sensor_type': 124, 'flags': 37}, {'sensor_type': 21, 'flags': 227}, {'sensor_type': 135, 'flags': 102}, {'sensor_type': 72, 'flags': 36}, {'sensor_type': 219, 'flags': 56}, {'sensor_type': 146, 'flags': 90}, {'sensor_type': 219, 'flags': 104}, {'sensor_type': 227, 'flags': 102}, {'sensor_type': 83, 'flags': 12}, {'sensor_type': 41, 'flags': 122}, {'sensor_type': 173, 'flags': 94}, {'sensor_type': 1, 'flags': 174}, {'sensor_type': 134, 'flags': 130}, {'sensor_type': 104, 'flags': 237}, {'sensor_type': 116, 'flags': 249}, {'sensor_type': 107, 'flags': 230}, {'sensor_type': 130, 'flags': 123}, {'sensor_type': 25, 'flags': 162}, {'sensor_type': 57, 'flags': 223}, {'sensor_type': 193, 'flags': 174}, {'sensor_type': 146, 'flags': 193}, {'sensor_type': 239, 'flags': 44}, {'sensor_type': 246, 'flags': 197}, {'sensor_type': 214, 'flags': 80}, {'sensor_type': 83, 'flags': 100}, {'sensor_type': 66, 'flags': 72}, {'sensor_type': 133, 'flags': 137}, {'sensor_type': 140, 'flags': 82}, {'sensor_type': 2, 'flags': 2}, {'sensor_type': 96, 'flags': 9}, {'sensor_type': 96, 'flags': 158}, {'sensor_type': 134, 'flags': 97}, {'sensor_type': 43, 'flags': 129}, {'sensor_type': 141, 'flags': 25}, {'sensor_type': 183, 'flags': 200}, {'sensor_type': 214, 'flags': 57}, {'sensor_type': 248, 'flags': 103}, {'sensor_type': 222, 'flags': 65}, {'sensor_type': 195, 'flags': 15}, {'sensor_type': 244, 'flags': 21}, {'sensor_type': 180, 'flags': 46}, {'sensor_type': 140, 'flags': 130}, {'sensor_type': 36, 'flags': 17}, {'sensor_type': 194, 'flags': 209}, {'sensor_type': 65, 'flags': 254}, {'sensor_type': 115, 'flags': 103}, {'sensor_type': 152, 'flags': 129}, {'sensor_type': 234, 'flags': 235}, {'sensor_type': 194, 'flags': 234}, {'sensor_type': 170, 'flags': 201}, {'sensor_type': 210, 'flags': 154}]}
